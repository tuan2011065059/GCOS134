<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
<h1>Chọn chức năng Movement</h1>
<h2>Terminate Agent</h2>
<!-- Hiển thị thông báo -->
{% if message %}
<p style="color:red; font-weight:bold;">{{ message }}</p>
{% endif %}
<!-- Form nhập agent code -->
<form method="POST" action="/agent-terminate-tree">
	<label>Agent Code:</label>
	<input class="form-control w-50" type="text" name="agent_code" value="{{ agent_code }}" placeholder="Enter agent code" required>
	<button class="btn btn-success" type="submit" name="action" value="search">Xem cấu trúc</button>
	<button class="btn btn-danger" type="submit" name="action" value="terminate" style="background:red; color:white;">Terminate</button>
	<button class="btn btn-primary" type="button" onclick="window.location.href='/agent-terminate-tree';"
		style="background:blue; color:white;">
		Refresh
	</button>
</form>

{% if tree %}
<h3 class="bg-warning text-dark p-3">Cấu trúc hiện tại của Agent {{ agent_code }}</h3>
<!-- Hiển thị dạng cây đơn giản -->
<table border="1" cellpadding="5">
	<tr>
		<th>Agent Code</th>
		<th>Agent Name</th>
		<th>Grade</th>
		<th>Status</th>
	</tr>
	{% for t in tree %}
	<tr>
		<td>{{ t.agent_code }}</td>
		<td>{{ t.agent_name }}</td>
		<td>{{ t.grade }}</td>
		<td>{{ t.agent_status }}</td>
	</tr>
	{% endfor %}
</table>
{% endif %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>